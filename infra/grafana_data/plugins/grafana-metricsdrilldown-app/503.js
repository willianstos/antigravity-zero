"use strict";(self.webpackChunkgrafana_metricsdrilldown_app=self.webpackChunkgrafana_metricsdrilldown_app||[]).push([[503],{97503(e,t,a){a.r(t),a.d(t,{default:()=>C});var n=a(46089),r=a(18531),l=a(82007),c=a(85959),i=a.n(c),o=a(62427),s=a(3388),m=a(87781),u=a(89642),d=a(52769),p=a(30858);function g(){const e=(0,l.useStyles2)(f),t=(0,l.useTheme2)();return i().createElement("div",{className:e.wrap},i().createElement(p.C,null),i().createElement("div",{className:e.graphicContainer},i().createElement(d.A,{src:(t.isDark,"/public/plugins/grafana-metricsdrilldown-app/img/logo.svg")})),i().createElement("div",{className:e.text},i().createElement("h3",{className:e.title},i().createElement(u.x6,{i18nKey:"onboarding.title"},"Welcome to Grafana Metrics Drilldown")),i().createElement("p",null,i().createElement(u.x6,{i18nKey:"onboarding.no-datasource"},"We noticed there is no Prometheus datasource configured.",i().createElement("br",null),"Add a"," ",i().createElement("a",{className:"external-link",href:m.locationUtil.assureBaseUrl("/connections/datasources/new")},"Prometheus datasource")," ","to view metrics.")),i().createElement("br",null),i().createElement("p",null,i().createElement(u.x6,{i18nKey:"onboarding.learn-more"},"Check"," ",i().createElement("a",{href:"https://grafana.com/docs/grafana/latest/explore/simplified-exploration/metrics/",target:"_blank",className:"external-link",rel:"noreferrer"},"our docs")," ","to learn more or",i().createElement("br",null),i().createElement("a",{href:"https://play.grafana.org/a/grafana-metricsdrilldown-app/drilldown",target:"_blank",className:"external-link",rel:"noreferrer"},"try it online")," ","in Grafana Play!"))))}const f=e=>({graphicContainer:(0,n.css)({[e.breakpoints.up("md")]:{alignSelf:"flex-end",height:"auto",padding:e.spacing(1),width:"300px"},[e.breakpoints.up("lg")]:{alignSelf:"flex-end",height:"auto",padding:e.spacing(1),width:"400px"},display:"flex",height:"250px",justifyContent:"center",margin:"0 auto",padding:e.spacing(1),width:"200px"}),text:(0,n.css)({alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"}),title:(0,n.css)({marginBottom:"1.5rem"}),wrap:(0,n.css)({position:"relative",[e.breakpoints.up("md")]:{flexDirection:"row",margin:"4rem auto auto auto"},alignItems:"center",display:"flex",flexDirection:"column",margin:"0 auto auto auto",padding:"2rem",textAlign:"center"})});var h=a(99251),E=a(7291),b=a(69642);var w=a(46965),v=a(86848),x=a(43499);const k=(0,c.createContext)(null);(0,v.Js)(),(0,w.g)();const y=Object.values(r.config.datasources).filter(x.aQ);function C(e){const t=(0,l.useStyles2)(S),[a]=(0,E.n)();return function(){const e=(0,c.useRef)(!1);(0,c.useEffect)(()=>{if(!e.current){var t;e.current=!0;const a=new URL(window.location.href),n=a.searchParams.get("metric")?"metric-details":"metrics-reducer",r=null!==(t=a.searchParams.get("uel_epid"))&&void 0!==t?t:"";(0,b.z)("app_initialized",{view:n,uel_epid:r})}},[])}(),a?i().createElement("div",{className:t.appContainer,"data-testid":"metrics-drilldown-app"},i().createElement(s.E,{error:a})):y.length?i().createElement("div",{className:t.appContainer,"data-testid":"metrics-drilldown-app"},i().createElement(k.Provider,{value:e},i().createElement(o.BR.Provider,{value:{trail:o.KF}},i().createElement(h.S,null)))):i().createElement(g,null)}function S(e){return{appContainer:(0,n.css)({display:"flex",flexDirection:"column",height:"100%",backgroundColor:e.colors.background.primary})}}},62427(e,t,a){a.d(t,{BR:()=>l,Hi:()=>c,KF:()=>r});var n=a(85959);const r=(0,a(85187).ef)(),l=(0,n.createContext)({trail:r});function c(){return(0,n.useContext)(l)}},3388(e,t,a){a.d(t,{E:()=>u});var n=a(46089),r=a(89642),l=a(82007),c=a(85959),i=a.n(c),o=a(81159),s=a(30858),m=a(58544);function u({error:e}){const t=(0,l.useStyles2)(d),a=(0,o.useNavigate)(),{pathname:n,search:u}=(0,o.useLocation)(),p=(0,c.useCallback)(()=>{const e=new URLSearchParams(u),t=new URLSearchParams;["from","to","timezone"].filter(t=>e.has(t)).forEach(a=>t.set(a,e.get(a))),a({pathname:n,search:t.toString()}),window.location.reload()},[a,n,u]),[g,f]=(0,c.useState)(!1);return i().createElement("div",{className:t.container},i().createElement(s.C,null),i().createElement(m._,{severity:"error",title:(0,r.t)("error-view.title","Fatal error!"),error:e,errorContext:{handheldBy:"React error boundary"},message:i().createElement(i().Fragment,null,i().createElement("p",{className:t.message},i().createElement(r.x6,{i18nKey:"error-view.message"},"Please"," ",i().createElement(l.TextLink,{href:"#",onClick:p},"try reloading the page")," ","or, if the problem persists, contact your organization admin. Sorry for the inconvenience.")),i().createElement("p",null,i().createElement(l.Collapse,{className:t.callStack,label:(0,r.t)("error-view.stack-trace-label","View stack trace"),isOpen:g,onToggle:()=>f(!g)},i().createElement("pre",null,i().createElement("code",null,e.stack)))))}))}function d(e){return{container:(0,n.css)({position:"relative",margin:e.spacing(2)}),message:(0,n.css)({margin:e.spacing(2,0,1,0)}),callStack:(0,n.css)({backgroundColor:"transparent",border:"0 none","& button":(0,n.css)({paddingLeft:e.spacing(1.5)}),"& button:focus":(0,n.css)({outline:"none",boxShadow:"none"}),"& button > svg":(0,n.css)({marginLeft:e.spacing(-2),marginRight:e.spacing(.5)}),'& [class$="collapse__loader"]':(0,n.css)({display:"none"})})}}},30858(e,t,a){a.d(t,{C:()=>s});var n=a(46089),r=a(82007),l=a(85959),c=a.n(l),i=a(43939),o=a(66423);function s(){const e=(0,r.useStyles2)(m);return c().createElement("div",{className:e.container},c().createElement(r.Stack,{direction:"row",gap:1,alignItems:"center"},c().createElement(i.l,{className:e.feedbackStatic}),c().createElement(o.U,null)))}function m(e){return{container:(0,n.css)({position:"absolute",top:e.spacing(2),right:e.spacing(2),zIndex:e.zIndex.dropdown}),feedbackStatic:(0,n.css)({position:"static"})}}},99251(e,t,a){a.d(t,{S:()=>m,X:()=>o});var n=a(85959),r=a.n(n),l=a(81159),c=a(4405),i=a(62427);const o=(0,n.lazy)(()=>a.e(946).then(a.bind(a,91946))),s=()=>{const e=(0,l.useLocation)();return r().createElement(l.Navigate,{to:`${c.b.Drilldown}${e.search}`,replace:!0})},m=()=>{const{trail:e}=(0,i.Hi)();return r().createElement(l.Routes,null,r().createElement(l.Route,{path:c.b.Drilldown,element:r().createElement(o,{trail:e})}),r().createElement(l.Route,{path:c.b.Trail,element:r().createElement(s,null)}),r().createElement(l.Route,{path:"*",element:r().createElement(l.Navigate,{to:c.b.Drilldown,replace:!0})}))}}}]);
//# sourceMappingURL=503.js.map?_cache=8a72f1fbfb1607837de5